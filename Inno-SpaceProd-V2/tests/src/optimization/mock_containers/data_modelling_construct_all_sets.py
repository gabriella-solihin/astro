import pandas as pd

from spaceprod.src.optimization.data_objects import (
    DataObjectScopeSpecific,
)


# to make sure timestamps are created properly
from spaceprod.src.optimization.modelling.data_objects import (
    DataModellingConstructAllSets,
)

Timestamp = pd._libs.tslibs.timestamps.Timestamp

"""
# how this mock container was generated:
run="dbfs:/mnt/blob/sobeys_space_prod/test_space_run_20220418_234656_295068"
context.reload_context_from_run_folder(run)
path_opt_data_containers = context.data.path("data_containers_parent_path")

store_ph = "11215"
df_store_no = context.data.read("location").filter(F.col("Store_Physical_Location_No")=="11215").select("STORE_NO").dropDuplicates()
store_no = df_store_no.collect()[0][0]

# for mock_data_modelling_create_and_solve_model_11215
data_container = DataContainer(scope=DataObjectScopeSpecific(region="ontario",banner="SOBEYS",dept="Frozen",store=store_ph))
data = data_container.read(path_opt_data_containers, "DataModellingConstructAllSets")
store_1 = container_to_code(data,list_mock_store_physical_location_no=[store_ph], list_store_no=[store_no], container_name='DataModellingConstructAllSets', var_name='mock_data_modelling_construct_all_sets_'+store_ph)  # you need this function (similar to df_to_ddl)
print(store_1)
"""

mock_data_modelling_construct_all_sets_11215 = DataModellingConstructAllSets(
    name="DataModellingConstructAllSets",
    sections={"Frozen Handhelds", "Frozen Pizza"},
    items_per_section={
        "Frozen Handhelds": [
            "375074",
            "375044",
            "413819",
            "633928",
            "576782",
            "541805",
            "265836",
        ],
        "Frozen Pizza": [
            "164849",
            "900100",
            "314792",
            "375039",
            "955963",
            "819649",
            "678984",
        ],
    },
    items={
        "633928",
        "541805",
        "955963",
        "265836",
        "413819",
        "375044",
        "900100",
        "375074",
        "314792",
        "819649",
        "678984",
        "576782",
        "375039",
        "164849",
    },
    need_state_set_per_section={
        "Frozen Handhelds": ["-1", "0", "1"],
        "Frozen Pizza": ["-1", "1", "2"],
    },
    items_per_need_state_section={
        ("Frozen Handhelds", "-1"): ["375044", "413819", "375074"],
        ("Frozen Handhelds", "0"): ["576782", "633928"],
        ("Frozen Handhelds", "1"): ["265836", "541805"],
        ("Frozen Pizza", "-1"): ["164849", "314792", "900100"],
        ("Frozen Pizza", "1"): ["955963", "375039"],
        ("Frozen Pizza", "2"): ["819649", "678984"],
    },
    item_width={
        ("375044", 0): 0.0,
        ("375074", 0): 0.0,
        ("413819", 0): 0.0,
        ("576782", 0): 0.0,
        ("633928", 0): 0.0,
        ("265836", 0): 0.0,
        ("541805", 0): 0.0,
        ("164849", 0): 0.0,
        ("314792", 0): 0.0,
        ("900100", 0): 0.0,
        ("375039", 0): 0.0,
        ("955963", 0): 0.0,
        ("678984", 0): 0.0,
        ("819649", 0): 0.0,
        ("375044", 1): 11.6,
        ("375074", 1): 11.55,
        ("413819", 1): 10.26,
        ("576782", 1): 11.8,
        ("633928", 1): 10.26,
        ("265836", 1): 10.26,
        ("541805", 1): 11.75,
        ("164849", 1): 10.26,
        ("314792", 1): 10.26,
        ("900100", 1): 11.1,
        ("375039", 1): 11.6,
        ("955963", 1): 11.6,
        ("678984", 1): 10.26,
        ("819649", 1): 11.8,
        ("375044", 2): 23.2,
        ("375074", 2): 23.1,
        ("413819", 2): 20.52,
        ("576782", 2): 23.6,
        ("633928", 2): 20.52,
        ("265836", 2): 20.52,
        ("541805", 2): 23.5,
        ("164849", 2): 20.52,
        ("314792", 2): 20.52,
        ("900100", 2): 22.2,
        ("375039", 2): 23.2,
        ("955963", 2): 23.2,
        ("678984", 2): 20.52,
        ("819649", 2): 23.6,
        ("375044", 3): 34.8,
        ("375074", 3): 34.65,
        ("413819", 3): 30.78,
        ("576782", 3): 35.4,
        ("633928", 3): 30.78,
        ("265836", 3): 30.78,
        ("541805", 3): 35.25,
        ("164849", 3): 30.78,
        ("314792", 3): 30.78,
        ("900100", 3): 33.3,
        ("375039", 3): 34.8,
        ("955963", 3): 34.8,
        ("678984", 3): 30.78,
        ("819649", 3): 35.4,
        ("375044", 4): 46.4,
        ("375074", 4): 46.2,
        ("413819", 4): 41.04,
        ("576782", 4): 47.2,
        ("633928", 4): 41.04,
        ("265836", 4): 41.04,
        ("541805", 4): 47.0,
        ("164849", 4): 41.04,
        ("314792", 4): 41.04,
        ("900100", 4): 44.4,
        ("375039", 4): 46.4,
        ("955963", 4): 46.4,
        ("678984", 4): 41.04,
        ("819649", 4): 47.2,
        ("375044", 5): 58.0,
        ("375074", 5): 57.75,
        ("413819", 5): 51.3,
        ("576782", 5): 59.0,
        ("633928", 5): 51.3,
        ("265836", 5): 51.3,
        ("541805", 5): 58.75,
        ("164849", 5): 51.3,
        ("314792", 5): 51.3,
        ("900100", 5): 55.5,
        ("375039", 5): 58.0,
        ("955963", 5): 58.0,
        ("678984", 5): 51.3,
        ("819649", 5): 59.0,
        ("375044", 6): 69.6,
        ("375074", 6): 69.3,
        ("413819", 6): 61.56,
        ("576782", 6): 70.8,
        ("633928", 6): 61.56,
        ("265836", 6): 61.56,
        ("541805", 6): 70.5,
        ("164849", 6): 61.56,
        ("314792", 6): 61.56,
        ("900100", 6): 66.6,
        ("375039", 6): 69.6,
        ("955963", 6): 69.6,
        ("678984", 6): 61.56,
        ("819649", 6): 70.8,
        ("375044", 7): 81.2,
        ("375074", 7): 80.85,
        ("413819", 7): 71.82,
        ("576782", 7): 82.6,
        ("633928", 7): 71.82,
        ("265836", 7): 71.82,
        ("541805", 7): 82.25,
        ("164849", 7): 71.82,
        ("314792", 7): 71.82,
        ("900100", 7): 77.7,
        ("375039", 7): 81.2,
        ("955963", 7): 81.2,
        ("678984", 7): 71.82,
        ("819649", 7): 82.6,
        ("375044", 8): 92.8,
        ("375074", 8): 92.4,
        ("413819", 8): 82.08,
        ("576782", 8): 94.4,
        ("633928", 8): 82.08,
        ("265836", 8): 82.08,
        ("541805", 8): 94.0,
        ("164849", 8): 82.08,
        ("314792", 8): 82.08,
        ("900100", 8): 88.8,
        ("375039", 8): 92.8,
        ("955963", 8): 92.8,
        ("678984", 8): 82.08,
        ("819649", 8): 94.4,
        ("375044", 9): 104.4,
        ("375074", 9): 103.95,
        ("413819", 9): 92.34,
        ("576782", 9): 106.2,
        ("633928", 9): 92.34,
        ("265836", 9): 92.34,
        ("541805", 9): 105.75,
        ("164849", 9): 92.34,
        ("314792", 9): 92.34,
        ("900100", 9): 99.9,
        ("375039", 9): 104.4,
        ("955963", 9): 104.4,
        ("678984", 9): 92.34,
        ("819649", 9): 106.2,
        ("375044", 10): 116.0,
        ("375074", 10): 115.5,
        ("413819", 10): 102.6,
        ("576782", 10): 118.0,
        ("633928", 10): 102.6,
        ("265836", 10): 102.6,
        ("541805", 10): 117.5,
        ("164849", 10): 102.6,
        ("314792", 10): 102.6,
        ("900100", 10): 111.0,
        ("375039", 10): 116.0,
        ("955963", 10): 116.0,
        ("678984", 10): 102.6,
        ("819649", 10): 118.0,
        ("375044", 11): 127.6,
        ("375074", 11): 127.05,
        ("413819", 11): 112.86,
        ("576782", 11): 129.8,
        ("633928", 11): 112.86,
        ("265836", 11): 112.86,
        ("541805", 11): 129.25,
        ("164849", 11): 112.86,
        ("314792", 11): 112.86,
        ("900100", 11): 122.1,
        ("375039", 11): 127.6,
        ("955963", 11): 127.6,
        ("678984", 11): 112.86,
        ("819649", 11): 129.8,
        ("375044", 12): 139.2,
        ("375074", 12): 138.6,
        ("413819", 12): 123.12,
        ("576782", 12): 141.6,
        ("633928", 12): 123.12,
        ("265836", 12): 123.12,
        ("541805", 12): 141.0,
        ("164849", 12): 123.12,
        ("314792", 12): 123.12,
        ("900100", 12): 133.2,
        ("375039", 12): 139.2,
        ("955963", 12): 139.2,
        ("678984", 12): 123.12,
        ("819649", 12): 141.6,
    },
    facings={0, 1, 2},
    facings_per_item={
        "164849": [0, 1, 2],
        "265836": [0, 1, 2],
        "314792": [0, 1, 2],
        "375039": [0, 1, 2],
        "375044": [0, 1, 2],
        "375074": [0, 1, 2],
        "413819": [0, 1, 2],
        "541805": [0, 1, 2],
        "576782": [0, 1, 2],
        "633928": [0, 1, 2],
        "678984": [0, 1, 2],
        "819649": [0, 1, 2],
        "900100": [0, 1, 2],
        "955963": [0, 1, 2],
    },
    non_zero_facings_per_item={
        "164849": [1, 2],
        "265836": [1, 2],
        "314792": [1, 2],
        "375039": [1, 2],
        "375044": [1, 2],
        "375074": [1, 2],
        "413819": [1, 2],
        "541805": [1, 2],
        "576782": [1, 2],
        "633928": [1, 2],
        "678984": [1, 2],
        "819649": [1, 2],
        "900100": [1, 2],
        "955963": [1, 2],
    },
    item_productivity_per_facing={
        ("375074", 0): 0.0,
        ("375074", 1): 0.5948401689529419,
        ("375074", 2): 0.9427993297576904,
        ("375044", 0): 0.0,
        ("375044", 1): 0.5948401689529419,
        ("375044", 2): 0.9427993297576904,
        ("413819", 0): 0.0,
        ("413819", 1): 0.5948401689529419,
        ("413819", 2): 0.9427993297576904,
        ("633928", 0): 0.0,
        ("633928", 1): 1.5271260738372803,
        ("633928", 2): 2.4204375743865967,
        ("576782", 0): 0.0,
        ("576782", 1): 1.5271260738372803,
        ("576782", 2): 2.4204375743865967,
        ("541805", 0): 0.0,
        ("541805", 1): 0.5608488917350769,
        ("541805", 2): 0.8889244794845581,
        ("265836", 0): 0.0,
        ("265836", 1): 0.5608488917350769,
        ("265836", 2): 0.8889244794845581,
        ("164849", 0): 0.0,
        ("164849", 1): 0.402544230222702,
        ("164849", 2): 0.638017475605011,
        ("900100", 0): 0.0,
        ("900100", 1): 0.402544230222702,
        ("900100", 2): 0.638017475605011,
        ("314792", 0): 0.0,
        ("314792", 1): 0.402544230222702,
        ("314792", 2): 0.638017475605011,
        ("375039", 0): 0.0,
        ("375039", 1): 0.4948458969593048,
        ("375039", 2): 0.7843121886253357,
        ("955963", 0): 0.0,
        ("955963", 1): 0.4948458969593048,
        ("955963", 2): 0.7843121886253357,
        ("819649", 0): 0.0,
        ("819649", 1): 0.5851002335548401,
        ("819649", 2): 0.9273619651794434,
        ("678984", 0): 0.0,
        ("678984", 1): 0.5851002335548401,
        ("678984", 2): 0.9273619651794434,
    },
    section_legal_break_linear_space={"Frozen Handhelds": 90, "Frozen Pizza": 90},
    max_department_legal_section_breaks=12.0,
    minimum_legal_breaks_per_section={"Frozen Handhelds": 4.0, "Frozen Pizza": 4.0},
    maximum_legal_breaks_per_section={"Frozen Handhelds": 8.0, "Frozen Pizza": 8.0},
    sections_with_sup_ob_constr=set(),
    supplier_ob_combo_list_per_section={},
    percentage_space_supp_ob={},
    items_per_supplier_ob_combination={},
    local_reserve_width={"Frozen Handhelds": 10.8, "Frozen Pizza": 10.8},
    lower_bound_unit_proportions={
        "375044": 0.1,
        "375074": 0.1,
        "413819": 0.35,
        "164849": 0.35,
        "314792": 0.1,
        "900100": 0.1,
        "576782": 0.662,
        "633928": 0.038000000000000006,
        "265836": 0.28800000000000003,
        "541805": 0.4129999999999999,
        "375039": 0.44999999999999996,
        "955963": 0.25,
        "678984": 0.376,
        "819649": 0.32399999999999995,
    },
    upper_bound_unit_proportions={
        "375044": 0.4,
        "375074": 0.4,
        "413819": 0.65,
        "164849": 0.65,
        "314792": 0.4,
        "900100": 0.4,
        "576782": 0.9620000000000001,
        "633928": 0.33799999999999997,
        "265836": 0.588,
        "541805": 0.713,
        "375039": 0.75,
        "955963": 0.55,
        "678984": 0.676,
        "819649": 0.624,
    },
    lower_bound_sales_penetration_unit_proportions={},
    upper_bound_sales_penetration_unit_proportions={},
    sections_for_sales_penetration=set(),
    need_state_set_for_sales_penetration={},
    items_held_constant=set(),
    current_facing_for_item={},
    scope=DataObjectScopeSpecific(
        region="ontario",
        banner="SOBEYS",
        dept="Frozen",
        store="11215",
    ),
)
